{ "dns": { "fakeip": { "enabled": true, "inet4_range": "198.18.0.0/15", "inet6_range": "fc00::/18" }, "independent_cache": true, "rules": [ { "outbound": [ "any" ], "server": "local" }, { "disable_cache": true, "geosite": [ "category-ads-all" ], "server": "block" }, { "query_type": [ "A", "AAAA" ], "rewrite_ttl": 1, "server": "fakeip" }, { "clash_mode": "global", "server": "remote" }, { "clash_mode": "direct", "server": "local" }, { "geosite": "ir", "server": "local" } ], "servers": [ { "address": "tcp:\/\/77.88.8.8", "detour": "select", "tag": "remote" }, { "address": "tcp:\/\/77.88.8.8", "detour": "direct", "tag": "local" }, { "address": "rcode://success", "tag": "block" }, { "address": "fakeip", "tag": "fakeip" } ], "strategy": "prefer_ipv4" }, "experimental": { "clash_api": { "external_controller": "127.0.0.1:9090", "secret": "" } }, "inbounds": [ { "auto_route": true, "domain_strategy": "prefer_ipv4", "endpoint_independent_nat": true, "inet4_address": "172.19.0.1/30", "inet6_address": "2001:0470:f9da:fdfa::1/64", "mtu": 9000, "platform": { "http_proxy": { "enabled": true, "server": "127.0.0.1", "server_port": 2334 } }, "strict_route": true, "type": "tun" }, { "domain_strategy": "prefer_ipv4", "listen": "127.0.0.1", "listen_port": 2333, "tag": "socks-in", "type": "socks", "users": [] }, { "domain_strategy": "prefer_ipv4", "listen": "127.0.0.1", "listen_port": 2334, "tag": "mixed-in", "type": "mixed", "users": [] } ], "log": {}, "outbounds": [ { "tag": "select", "type": "selector", "outbounds": [ "AUTOTEST", "n1", "n2" ] }, { "tag": "AUTOTEST", "type": "urltest", "outbounds": [ "n1", "n2" ], "url": "https://cp.cloudflare.com/generate_204", "interval": "3m", "tolerance": 50 }, { "tag": "direct", "type": "direct" }, { "tag": "block", "type": "block" }, { "tag": "dns-out", "type": "dns" }, { "type": "wireguard", "tag": "n1", "server": "162.159.192.175", "server_port": 903, "local_address": [ "172.16.0.2\/32", "2606:4700:110:802d:c3c1:7b12:d4b0:3caf/128" ], "private_key": "YI2qIoNaO5prrg8d8jGyEA92OiBxBnR/2esuMXBQYk4=", "peer_public_key": "bmXOC+F1FxEMF9dyiK2H5/1SUtzH0JuVo51h2wPfgyo=", "reserved":[87,207,165], "mtu": 1280 }, { "type": "wireguard", "tag": "n2", "server": "162.159.192.141", "server_port": 7156, "local_address": [ "172.16.0.2\/32", "2606:4700:110:812b:c4ab:f9a9:c901:7c41/128" ], "private_key": "EKow+316csMUuMCqCFeJFEzk39t2kJ67uMZS3NgjvXA=", "peer_public_key": "bmXOC+F1FxEMF9dyiK2H5/1SUtzH0JuVo51h2wPfgyo=", "reserved":[242,155,140], "mtu": 1280 } ], "route": { "auto_detect_interface": true, "rules": [ { "geosite": "category-ads-all", "outbound": "block" }, { "outbound": "dns-out", "port": 53 }, { "clash_mode": "direct", "outbound": "direct" }, { "clash_mode": "global", "outbound": "select" }, { "geoip": [ "ir", "private" ], "outbound": "direct" } ] } }