{ "log": { "level": "warn", "timestamp": true }, "dns": { "servers": [ { "address": "1.1.1.1", "address_resolver": "dns-direct", "strategy": "prefer_ipv4", "detour": "proxy", "tag": "dns-remote" }, { "address": "8.8.8.8", "strategy": "prefer_ipv4", "detour": "direct", "tag": "dns-direct" }, { "address": "rcode://success", "tag": "dns-block" } ], "rules": [ { "domain": [ "www.gstatic.com", "engage.cloudflareclient.com" ], "server": "dns-direct" }, { "outbound": "any", "server": "dns-direct" }, { "rule_set": [ "geosite-ir" ], "server": "dns-direct" }, { "disable_cache": true, "rule_set": [ "geosite-malware", "geosite-phishing", "geosite-cryptominers" ], "server": "dns-block" } ], "independent_cache": true }, "inbounds": [ { "type": "direct", "tag": "dns-in", "listen": "0.0.0.0", "listen_port": 6450, "override_address": "8.8.8.8", "override_port": 53 }, { "type": "tun", "tag": "tun-in", "inet4_address": "172.19.0.1/28", "inet6_address": "fdfe:dcba:9876::1/126", "mtu": 9000, "auto_route": true, "strict_route": true, "stack": "mixed", "sniff": true, "sniff_override_destination": true }, { "type": "mixed", "tag": "mixed-in", "listen": "0.0.0.0", "listen_port": 2080, "sniff": true, "sniff_override_destination": false } ], "outbounds": [ { "type": "selector", "tag": "proxy", "outbounds": [ " Warp Pro Best Ping üöÄ", " WoW Pro Best Ping üöÄ", " Warp Pro 1 ", " WoW Pro 1 üåç" ] }, { "type": "urltest", "tag": " Warp Pro Best Ping üöÄ", "outbounds": [ " Warp Pro 1 " ], "url": "https://www.gstatic.com/generate_204", "interval": "30s", "tolerance": 50 }, { "type": "urltest", "tag": " WoW Pro Best Ping üöÄ", "outbounds": [ " WoW Pro 1 üåç" ], "url": "https://www.gstatic.com/generate_204", "interval": "30s", "tolerance": 50 }, { "type": "direct", "tag": "direct" }, { "type": "block", "tag": "block" }, { "type": "dns", "tag": "dns-out" }, { "local_address": [ "172.16.0.2/32", "2606:4700:110:8600:483b:7e4f:1f0d:1cfe/128" ], "mtu": 1280, "peer_public_key": "bmXOC+F1FxEMF9dyiK2H5/1SUtzH0JuVo51h2wPfgyo=", "private_key": "OMe3GAhqLGBh5SnDhWGT91L5E6JuejPzhnYWcPYvAnQ=", "reserved": "JNqw", "server": "engage.cloudflareclient.com", "server_port": 2408, "type": "wireguard", "detour": "", "tag": " Warp Pro 1 ", "fake_packets_mode": "m4", "fake_packets": "10-15", "fake_packets_size": "5-10", "fake_packets_delay": "1" }, { "local_address": [ "172.16.0.2/32", "2606:4700:110:8600:483b:7e4f:1f0d:1cfe/128" ], "mtu": 1280, "peer_public_key": "bmXOC+F1FxEMF9dyiK2H5/1SUtzH0JuVo51h2wPfgyo=", "private_key": "OMe3GAhqLGBh5SnDhWGT91L5E6JuejPzhnYWcPYvAnQ=", "reserved": "JNqw", "server": "engage.cloudflareclient.com", "server_port": 2408, "type": "wireguard", "detour": "proxy-1", "tag": " WoW Pro 1 üåç" }, { "local_address": [ "172.16.0.2/32", "2606:4700:110:83cf:119c:986c:7683:c955/128" ], "mtu": 1280, "peer_public_key": "bmXOC+F1FxEMF9dyiK2H5/1SUtzH0JuVo51h2wPfgyo=", "private_key": "+HLHqaHiYfhSy9YMDkV29HFqnr+eXiqzNSLh1WvVb2w=", "reserved": "+n4m", "server": "engage.cloudflareclient.com", "server_port": 2408, "type": "wireguard", "detour": "", "tag": "proxy-1", "fake_packets_mode": "m4", "fake_packets": "10-15", "fake_packets_size": "5-10", "fake_packets_delay": "1" } ], "route": { "rules": [ { "inbound": "dns-in", "outbound": "dns-out" }, { "network": "udp", "port": 53, "outbound": "dns-out" }, { "rule_set": [ "geosite-ir", "geoip-ir" ], "outbound": "direct" }, { "rule_set": [ "geosite-malware", "geosite-phishing", "geosite-cryptominers", "geoip-malware", "geoip-phishing" ], "outbound": "block" }, { "ip_cidr": [ "224.0.0.0/3", "ff00::/8" ], "source_ip_cidr": [ "224.0.0.0/3", "ff00::/8" ], "outbound": "block" } ], "rule_set": [ { "type": "remote", "tag": "geosite-malware", "format": "binary", "url": "https://raw.githubusercontent.com/Chocolate4U/Iran-sing-box-rules/rule-set/geosite-malware.srs", "download_detour": "direct" }, { "type": "remote", "tag": "geosite-phishing", "format": "binary", "url": "https://raw.githubusercontent.com/Chocolate4U/Iran-sing-box-rules/rule-set/geosite-phishing.srs", "download_detour": "direct" }, { "type": "remote", "tag": "geosite-cryptominers", "format": "binary", "url": "https://raw.githubusercontent.com/Chocolate4U/Iran-sing-box-rules/rule-set/geosite-cryptominers.srs", "download_detour": "direct" }, { "type": "remote", "tag": "geoip-malware", "format": "binary", "url": "https://raw.githubusercontent.com/Chocolate4U/Iran-sing-box-rules/rule-set/geoip-malware.srs", "download_detour": "direct" }, { "type": "remote", "tag": "geoip-phishing", "format": "binary", "url": "https://raw.githubusercontent.com/Chocolate4U/Iran-sing-box-rules/rule-set/geoip-phishing.srs", "download_detour": "direct" }, { "type": "remote", "tag": "geosite-ir", "format": "binary", "url": "https://raw.githubusercontent.com/Chocolate4U/Iran-sing-box-rules/rule-set/geosite-ir.srs", "download_detour": "direct" }, { "type": "remote", "tag": "geoip-ir", "format": "binary", "url": "https://raw.githubusercontent.com/Chocolate4U/Iran-sing-box-rules/rule-set/geoip-ir.srs", "download_detour": "direct" } ], "auto_detect_interface": true, "override_android_vpn": true, "final": "proxy" }, "ntp": { "enabled": false, "server": "time.apple.com", "server_port": 123, "detour": "direct", "interval": "30m" }, "experimental": { "cache_file": { "enabled": true }, "clash_api": { "external_controller": "0.0.0.0:9090", "external_ui": "yacd", "external_ui_download_url": "https://github.com/MetaCubeX/Yacd-meta/archive/gh-pages.zip", "external_ui_download_detour": "direct", "default_mode": "rule" } } }